BURB	START 	1000H
	LDX	ZERO
STRT	LDX	ZERO
RLOOP	TD	INPUT
	JEQ	RLOOP
	RD	INPUT
	COMP	ZERO
	JEQ	STOPRD
	STCH	ARRAY,X
	TIX	MAXLEN
	JLT	RLOOP
STOPRD	STX	LENGTH
	LDA	LENGTH
	SUB	ONE
	STA	LENGTH
	LDX	ZERO
WHILE	LDA	FLAG	
	COMP	ONE
	JLT	EXIT
	LDA	ZERO
	LDX	ZERO
	STA	FLAG
	LDA	ZERO
	STA	INDEXI
	J	FORI
FORI	LDA	INDEXI
	COMP	LENGTH
	JLT	IF
	J	WHILE
IF	LDCH	ARRAY,X
	STCH	TEMP
	STX	ADDR
	TIX	ARRAY
	LDCH	ARRAY,X
	STCH	TEMP3
	LDA	TEMP3
	COMP	TEMP
	JLT	SWAP
	J	INCR	
SWAP	LDCH	ARRAY,X
	STCH	TEMP2
	LDCH	TEMP
	STCH	ARRAY,X
	LDX	ADDR
	LDCH	TEMP2
	STCH	ARRAY,X
	TIX	ARRAY
	LDA	ONE
	STA	FLAG
INCR	LDA	INDEXI
	ADD	ONE
	STA	INDEXI
	J	FORI
EXIT	LDA	ARRAY	,X
ARRAY	RESB	4096
INPUT	BYTE	X'F1'
OUTPUT	BYTE	X'05'
TEMP	RESW	1
TEMP2	RESW	1
TEMP3	RESW	1
ZERO	WORD	0
ONE	WORD	1
LENGTH	RESW	1
MAXLEN	WORD	4096
FLAG	WORD	1
ADDR	WORD	0
INDEXI	WORD	0
	END	STRT
